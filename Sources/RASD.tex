%% Based on a TeXnicCenter-Template by Gyorgy SZEIDL.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%------------------------------------------------------------
%
\documentclass[a4paper,12pt]{article}%
%Options -- Point size:  10pt (default), 11pt, 12pt
%        -- Paper size:  letterpaper (default), a4paper, a5paper, b5paper
%                        legalpaper, executivepaper
%        -- Orientation  (portrait is the default)
%                        landscape
%        -- Print size:  oneside (default), twoside
%        -- Quality      final(default), draft
%        -- Title page   notitlepage, titlepage(default)
%        -- Columns      onecolumn(default), twocolumn
%        -- Equation numbering (equation numbers on the right is the default)
%                        leqno
%        -- Displayed equations (centered is the default)
%                        fleqn (equations start at the same distance from the right side)
%        -- Open bibliography style (closed is the default)
%                        openbib
% For instance the command
%           \documentclass[a4paper,12pt,leqno]{article}
% ensures that the paper size is a4, the fonts are typeset at the size 12p
% and the equation numbers are on the left side
%
\usepackage{amsmath}%
\usepackage{amsfonts}%
\usepackage{amssymb}%
\usepackage{graphicx}
\usepackage{geometry}
\usepackage[hidelinks]{hyperref}
\usepackage{svg}
\usepackage{tabularx}
\usepackage{array}
\usepackage{float}
\usepackage{pdflscape}
%-------------------------------------------
\makeatletter\let\MPtrue\@minipagetrue\makeatother
\newcolumntype{C}{>{\hsize=1.5\hsize}X}
\newcolumntype{s}{>{\hsize=.5\hsize}X}
\geometry{margin=1in}
\setcounter{secnumdepth}{5}
\setcounter{tocdepth}{5}
\newcommand{\usecasetable}[6]{
\begin{center}
\def\arraystretch{1.5}
\begin{tabularx}{\textwidth}{|s|C|}
\hline
Actor & #1\\
\hline
Goal & #2\\
\hline
Input Condition & #3 \\
\hline
Event Flow & #4\\
\hline
Output Condition & #5\\
\hline
Exception & #6\\
\hline
\end{tabularx}
\end{center}
}
\newcommand{\defsw}[4] {
\begin{itemize}
\item #1:
\begin{itemize}
\item Name: #2
\item Version: #3
\item Source: #4
\end{itemize}
\end{itemize}
}
\begin{document}
\begin{figure}
  \centering
	\def\svgwidth{\columnwidth}
    \resizebox{0.35\textwidth}{!}{\input{logo_polimi.pdf_tex}}
\end{figure}
\title{{\Huge \textbf{R}equirements \textbf{A}nalysis and\\
\textbf{S}pecification \textbf{D}ocument}\\{\Large Software Engineering 2: ``myTaxiService''}}

\author{Fioratto Raffaele, Longoni Nicol\`{o}
\\Politecnico di Milano
\\{\small A.Y. 2015/2016}}
\date{October 22, 2015}
\maketitle
\newpage
\tableofcontents
\newpage
\section{Introduction}

\subsection{Purpose}
This document represents the Requirement Analysis and Specification Document
(RASD). The main goal of this document is to describe completely the system
in terms of functional and non-functional requirements, analyzing real needs
of customers to model the system, showing constraints and limits
of the software and simulating typical use cases that will occur after the
development. This document is addressed to all developers and programmers who
have to implement the requirements, to system analysts who want to integrate
other systems with this one, and could be used as a contractual basis between
the customer and the developer.

\subsection{Actual System}
The software house wants to offer a new service to optimize an existing 
taxi service of a large city. We suppose that until now, nothing has been 
created and we have to create the entire application without using or modifying 
a previous system.

\subsection{Scope}
The aim of the project is to create a new brand system that optimizes an 
existing taxi service.
The system will be capable of automatizing  and/or simplifying certain 
processes during requests or reservations of taxis.
It will also guarantee a fair management of taxi queues.
New passengers can sign up for service inserting some basic information in order to use service's features as soon as possible.
A passenger can request a taxi using web service or through mobile
application after registration. The system will be able to localize precisely the position
of the passenger, determining the taxis that are available near
him/her. The system will select a taxi and then will forward the request to its driver.
Upon confirmation, the system will notify the customer about the successful completion of the operation and the ETA of the taxi. A passenger can also reserve a taxi by specifying the time and the date.
Passengers who want to reserve a taxi should do it with at least two hours in advance, cancellation is also permitted. The system will actually process the request ten minutes before the time specified during the reservation in the same way as described previously.

\subsection{Actors}
\begin{itemize}
\item Visitor: a person that is not registered to the system or that is not already logged in. He/she can only sign in or visit the registration page.
\item Registered Passenger: all customers that have a valid username and password and that are able to access all available features to customers, they can request or reserve a taxi, they can also cancel these operations with some constraints later explained.
\item Taxi Driver: a person who is able to drive a taxi, owns a valid 
professional driving license. The driver informs the system about the availability of his/her taxi, logging in a specific mobile application installed in his/her smartphone, and do the same when the ride ends. 
\item System Administrator: the person in charge of updating the list of the actual cars and the list of qualified drivers.
\end{itemize}
\subsection{Goals}
List of goals for myTaxiService system:
\begin{itemize}
\item \nameref{goal1}
\item \nameref{goal2}
\item \nameref{goal3}
\item \nameref{goal4}
\item \nameref{goal5}
\item \nameref{goal6}
\end{itemize}
\subsection{Definitions, Acronyms, Abbreviations}
\subsubsection{Definitions}
\begin{itemize}
\item System: it contains the core functionalities of the software to be developed.
\item Service: it is composed by the system, mobile application and web site.
\item Location: it is a geographical point that univocamente determine the position of something, it is defined by two coordinates in the two dimensional space generated by a map.
\item Meeting Point: it is the location where one or more taxi drivers move to take the people requesting one o more taxis.
\end{itemize}
\subsubsection{Acronyms}
\begin{itemize}
\item RASD: Requirements Analysis and Specification Document
\item DB: DataBase
\item DBMS: DataBase Management System
\item API: Application Programming Interface
\item ETA: Estimated Time of Arrival
\item OS: Operating System
\item FIFO: First-In First-Out
\item JVM: Java Virtual Machine
\item RPC: Remote Procedure Calls
\item JSON: JavaScript Object Notation
\end{itemize}
\subsubsection{Abbreviations}
\begin{itemize}
\item {[}Gn{]}: n-goal %curly braces needed to escape '[' and ']'
\item {[}Rn{]}: n-functional requirement
\item {[}Dn{]}: n-domain assumption
\item {[}An{]}: n-assumption
\end{itemize}
\subsection{Identify Stakeholders}
Our main stakeholders are government members of the city that are interested in optimizing the existing taxi service.
Other stakeholders can be companies that want to enhance the service as well, but also the passengers and taxi drivers who want a more comfortable, intuitive and user-friendly service.
\subsection{Reference Documents}
\begin{itemize}
\item myTaxiService Specification Document
\item IEEE Std 830-1998 IEEE Recommended Practice for Software 
Requirements Specifications.
\end{itemize}
\subsection{Document overview}
The document is essentially divided into four parts:
\begin{itemize}
\item Section 1: Introduction, it gives a description of this document and some basic information about software utilized.
\item Section 2: Overall Description, gives general information about the software to project, focused on constraints and assumptions.
\item Section 3: Specific Requirements, this part lists requirements, typical scenarios and use cases. To give an easy way to understand all functionality
of this software. This section is filled with UML diagrams.
\item Section 4: Appendix, this part contains some information about the attached *.als files and some described screenshots of software used to generate.
it.
\end{itemize}
\newpage
\section{Overall Description}
\subsection{Product perspective}
The final product will consist of a web service and a mobile application for customers and taxi drivers.
The overall system will also have an internal interface for the system administrator. The system should also interact with existing external services, and will also provide additional APIs that allows the development of additional features in the future. 
\subsection{User characteristics}
The final customer that wants to use this application is a person who wants to move around the city using taxis in a easier and faster way than an ordinary taxi service can assure. This user must have some kind of digital equipment that let him access the Web by means of a modern browser. The user can also use the mobile application to have a more enhanced user experience using this service.
From the system administrator perspective, he expects a very intuitive interface that enables a fast way to manage the back-end information. We expect that an already hired employee will be trained to do such job.
\subsection{Constraints}
\subsubsection{Regulatory policies}
For the myTaxiService we have identified the following regulatory policies:
\begin{itemize}
\item Cookies: since it is mandatory to log in the web service to interact with the system, it is necessary to use cookies in order to keep track of each user's session, thus the system must comply with the current Cookie Law.
\item Privacy: the system needs to manage some sensible data of customers and taxi drivers, for instance the name, the surname, an e-mail etc. Another crucial information is the current location detected by GPS of both. During the registration, customers must accept the Privacy Law (see login mockup), regarding taxi drivers, before being registered to the system by the administrator, drivers have to sign a document, accepting the processing of its personal data.
\item Drivers during their work are subject to the Traffic code.
\item The workday of a driver is subjected to the laws about Job safety, so the system must allow the driver to take some breaks during the day in order to prevent both illnesses, damage to people, tiredness problems and stress.
\end{itemize}
\subsubsection{Hardware policies}
For the myTaxiService we have identified the following regulatory policies:
\begin{itemize}
\item Smartphone: because of their limited power and battery, we must take care of application consumption and also web services (for instance, implementing a responsive design).
\end{itemize}
\subsubsection{Interfaces to other applications}
\begin{itemize}
\item Google Maps: it will be used to provide passengers an estimation of taxis arrival time.
\item External Database: it contains information about the drivers' license and data about cabs, the system will interrogate this database to check the correctness of the information supplied by taxi drivers during the registration in the system.
\end{itemize} 
\subsubsection{Parallel operation}
myTaxiService must support parallel operations from different users when it works
with database and with all operations done by users after connections.
\subsubsection{Documents related}
\subsection{Assumptions and Dependencies}
\subsubsection{Assumptions}
\begin{itemize}
\label{a1} \item {[}A1{]} Only registered users can use the service, because additional information such as name, surname and e-mail to confirm and to recap the reservation are needed, to avoid repetition, the user has to re-enter this information every time.
Another reason is to prevent passengers to make requests to the system while another one is in processing.
\label{a2} \item {[}A2{]} Passenger position is exactly known thanks to the usage of GPS available in smartphones or by using a geolocalization API from browser. 
\label{a3} \item {[}A3{]} The position of the taxi is exactly known by using the GPS available in the driver's smartphones
\label{a4} \item {[}A4{]} The city is divided into zones of 2 $km^2$ each and for each zone a taxi queue is allocated.
\label{a5} \item {[}A5{]} The driver can take at most 2 breaks during his/her workday, during breaks the taxi belonging to him/her is not available.
\label{a6} \item {[}A6{]} A taxi driver must own a valid professional driving license and a cab with all documents in order
\label{a7} \item {[}A7{]} Each taxi driver's license has a unique code that identifies it
\label{a8} \item {[}A8{]} Each taxi cab has a unique code that identifies it
\label{a9} \item {[}A9{]} An external database with all the correct and up to date information about the taxi drivers and their cars (valid driving license, cars allowed to circulate in streets, etc.)
\label{a10} \item {[}A10{]} The existing taxi service is available 24 hours per day, 365 days per year.
\label{a11} \item {[}A11{]} A taxi has a capacity of at most 3 passengers. 
\end{itemize}
\subsection{Future possible implementation}
\begin{itemize}
\item Allow customers to pay using an electronic payment system. During registration the passenger will provide additional information about his/her credit card or PayPal e-mail, the system will charge a ride automatically.
\item Extend the interface usable by customers to provide the ability to evaluate the service in general as a feedback to improve the overall system.
\item Expand the system to allow the possibility to share a taxi with other customers using the existing API.
\end{itemize}
\newpage
\section{Specific Requirements}
\subsection{External Interface Requirements}
\subsubsection{User Interfaces}
\subsubsection{API Interfaces}
The application on the server side will provide some APIs that are used by the mobile application to interact with the system itself. These APIs are essentially RPCs with the data encapsulated using JSON exposed using some endpoints (i.e. specific URLs). The mobile application will connect to the central application by means of this endpoints and will perform the necessary operations.
\subsubsection{Hardware Interfaces}
The system doesn't support any Hardware Interfaces.
\subsubsection{Software Interfaces}
\defsw{DBMS}{MariaDB}{10.0}{https://mariadb.org/}
\defsw{JVM}{Oracle JEE}{8}{http://www.oracle.com/technetwork/java/javaee/overview/index.html}
\defsw{Application Server}{Glassfish}{4.1.1}{https://glassfish.java.net/}
\defsw{OS}{Any operating system that can run host a DBMS application and the JVM}{N/A}{N/A}
\defsw{Mobile OSes}{Android}{$\geq$ 4.0}{https://www.android.com/}
\defsw{Mobile OSes}{iOS}{$\geq$ 7.0}{http://www.apple.com/ios/}
\defsw{Mobile OSes}{Windows Phone}{$\geq$ 8.0}{https://www.microsoft.com/en-us/windows/phones}
\subsubsection{Communication Interfaces}
\begin{center}
\begin{tabular}{|c|c|c|}
\hline
Protocol & Application & Port \\
\hline \hline
TCP & HTTPS & 443 \\
\hline
TCP & HTTP & 80 \\
\hline
TCP & DBMS & 3306 (default) \\
\hline
\end{tabular}
\end{center}
\subsubsection{Memory}
The minimum memory requirements are:
\begin{itemize}
\item Primary memory: 2GB+
\item Secondary memory: 20GB+
\end{itemize}
For the mobile application at least 512MB of primary memory is required in order to have a satisfactory user experience.
\subsection{Functional Requirements}
\subsubsection{{[}G1{]} Allow visitors to sign up for the service}
\label{goal1}
\begin{itemize}
\item {[}R1{]} The system requests an e-mail or a telephone number during the registration
\item {[}R2{]} The system rejects an e-mail or a telephone number already used by another registered passenger
\item {[}R3{]} After the completion of registration process, the system must send a confirmation to newly registered passengers
\item {[}R4{]} The system checks if e-mails or telephone numbers are well formed
\item {[}R5{]} The system considers passengers officially registered if and only if passengers either open an activation link in a confirmation e-mail, or insert a code received through a SMS in mobile application or in web service.
\end{itemize}
\subsubsection{{[}G2{]} Allow registered passengers to request a taxi}
\label{goal2}
\begin{itemize}
\item {[}R1{]} The system must disallow visitors to perform such operation
\item {[}R2{]} The system has to locate passengers using GPS in his/her smartphone or through browser.
\item {[}R3{]} After selecting the most appropriate taxi (explained in goal \hyperref[goal4]{[G4]}), the system must inform drivers that a request is incoming.
\item {[}R4{]} Upon confirmation by the driver about the request of availability, the system has to inform the passenger about a positive outcome,if it occurs, and provide additional information, such as ETA
\item {[}R5{]} In case of unavailability of a contacted driver, the system has to pick another taxi from the most appropriate queue and to repeat what described in requirement [R3]
\item {[}R6{]} The system must proceed to the cancellation of the request if and only if the user requested to do it and the condition in [D1] has not met yet.
\item {[}D1{]} The maximum number of cancellation requests is three.
\item {[}D2{]} A passenger can request at most 3 taxis thus the amount of people involved in a single request is at most 9 \hyperref[a11]{{[}A11{]}}.
\end{itemize}
\subsubsection{{[}G3{]} Allow registered passengers to reserve a taxi}
\label{goal3}
\begin{itemize}
\item {[}R1{]} The system must disallow visitors to perform such operation.
\item {[}R2{]} The system must check if time and the date specified is at least past two hours with the respect of present time.
\item {[}R3{]} The system must disallow the reservation of a taxi with an invalid meeting point.
\item {[}R4{]} The system must disallow the reservation of a taxi with a meeting point outside the area served by the service.
\item {[}R5{]} The system shall allocate a timer that will timeouts ten minutes before the time and date specified, triggering the event of allocating a taxi for this reservation.
\end{itemize}
\subsubsection{{[}G4{]} Guarantee a fair management of the taxi queues}
\begin{itemize}
\item {[}R1{]} The system must select the first free taxi in the queue corresponding to the zone in which the meeting point is.
\item {[}R2{]} The system shall manage the queue using a predefined policy.
\item {[}R3{]} If there are no available taxis in the queue the system scans the queues of the adjacent zones.
\item {[}R4{]} The system must remove the taxi from the queue if and only if the Passenger has confirmed the intention of taking the selected taxi.
\item {[}R5{]} The queues contains only free taxis.
\item {[}R6{]} The system must not select taxis that belong to drivers spending their breaks.
\item {[}D1{]} The policy for managing the queue is FIFO.
\end{itemize}
\label{goal4}
\subsubsection{{[}G5{]} Allow taxi drivers to manage their workday}
\begin{itemize}
\item {[}R1{]} The system must disallow non-taxi drivers to perform such operations.
\item {[}R2{]} The system must not allow to start a workday twice or more in the same day.
\item {[}R3{]} The system must not allow to end a workday before a workday is started.
\item {[}R4{]} The system must enforce the driver to take some breaks during the day.
\item {[}D1{]} The workday cannot last more than 8 hours.
\end{itemize}
\label{goal5}
\subsubsection{{[}G6{]} Allow the system administrator to update the information about drivers and taxis}
\begin{itemize}
\item {[}R1{]} The system must disallow non-system administrator to perform such operations.
\item {[}R2{]} The system must disallow the insertion of inconsistent data (for example drivers with invalid license or without a car).
\item {[}R3{]} The system must disallow the insertion of already present data.
\end{itemize}
\label{goal6}
\subsection{The World and the Machine}
\subsection{Scenarios}
\subsubsection{Scenario 1}
Ilaria is late for work and unfortunately there is no available public transportation to get quickly to the office. She launches myTaxiService mobile application from her smartphone and she logs in.
She wants to request a taxi so she taps the button ``Request a Taxi".
Her smartphone is able to locate her quickly and, though the Internet, the application sends to the system her coordinates and Ilaria's intention to request a taxi. The system looks for taxi queues near Ilaria's position and sends a notification to first driver associated with an available taxi in that queue.
The mobile application of Daniele, the taxi driver, receives a notification but unfortunately due to a heavy traffic in that specific street he can't confirm his availability to carry out the request, and he sends a negative reply to the system by tapping the button ``Not Available".
The system acknowledges this rejection and moves the taxi driver from the top of his queue to the end, and selects the second taxi driver (which now is the first one) from the same queue.
This time Marco confirms his availability tapping the button ``Available" in the application. The system receives the message and thus allocates selected taxi to Ilaria's request, while a confirmation message is sent to her providing additional information such as the taxi code and its ETA. Now she waits for the taxi to come to her position.
Meanwhile Marco has received Ilaria's position from the system and it is displayed in his smartphone, for this reason he moves from that location.
When Marco arrives he picks up Ilaria, she provides the destination to Marco and the ride starts.
When the destination is reached, Marco taps the button ``Destination reached" and sends the corresponding message to the system. Ilaria pays the amount due and she leaves the taxi and reaches the office. When the system receives a ``Destination reached" input from a taxi driver, the system calculates his/her new position, eventually the system adds the taxi to the appropriate queue according to the location received.
\subsubsection{Scenario 2}
Davide has just arrived to the city, a friend suggested him to install myTaxiService application, so he does it and tries to register.
He provides to the application his e-mail, his name, his surname and his date of birth, he accepts the privacy and cookie policy and taps the button ``Register". After he sent his registration request, the system discovers that the e-mail was already used and so Davide receives a notification on the application about the problem and inserts another e-mail.
This time the e-mail he inserted is accepted and the system stores his personal details in the database, while the system sends a confirmation e-mail to previously provided e-mail, containing a temporary password.
To conclude the registration process Davide must log in at least one time, using the e-mail provided during the registration and the password generated by the system.
As soon as he logs in, the system considers Davide a valid registered passenger and he can now use other system's functionalities, and also change his password with another one.  
\subsubsection{Scenario 3}
Bob has booked a flight so he decided to reserve a taxi driver that will take him to the airport.
From his home, he browses myTaxiService website, he logs in and presses the button ``Reserve a Taxi", a new page loads up with a map and a textual box.
The website asks him the permission to determine his position by the browser, but he declines because he wants to set a starting position that is different than the current one.
He inserts the address in the textual box and presses ``Enter" on the keyboard. The map will update moving the region centering the specific position inserted previously, placing also a marker to emphasize the position detected by the system.
Then Bob inserts time and date he needs to reserve and presses ``Confirm".
The system stores this data in the database since all the information provided are adequate. Bob receives an e-mail about either a succesful or a negative outcome of the operation.
When the date approaches, specifically 10 minutes before the time and date specified, the system processes the reservation, managing it in the same way as requests already described in Scenario 1. 
\subsubsection{Scenario 4} 
Jack is a taxi driver, after he completed the registration to myTaxiService application, he can start to use it. According to taxi driver job laws, the system enables the application to receive requests during working time as described previously. The system has break times registered in its records for each taxi driver. When Jack's break time occurs, he can only terminate his last work, after that he can't accept other works until the break ends. At the end of his working time, the application is disabled by the system until the next working day. Jack can insert unavailabilities if unexpected events occur, letting him not to work for the day or hours necessary to solve his problem. 
\subsubsection{Scenario 5}
Frank has just requested a taxi to take him home, without thinking he tries to reserve another taxi, but the system recognises that he has already made a reservation, so it sends a message to Frank saying his last request has been rejected because of the impossibility to make a double reservation and the second request is ignored.
\subsubsection{Scenario 6}  
Tom wants to eliminate his myTaxiService account, so he enters his account's settings and presses the button ``Eliminate account", after he confirmed his desire not to use more the application, the system removes Tom's personal details and his previous reservations from databases.

\pagebreak
\subsection{UML models}
\subsubsection{Use cases} 
\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{"Use Case".png}
\end{figure}
\break
\paragraph{Visitors signs up for myTaxiService}
\usecasetable {Visitor} {\nameref{goal1}} {None} {
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Visitor clicks on the registration button.
\item Visitor fills the registration form in with the mandatory fields.
\item Visitor User clicks on the ``Confirm'' button to become a registered passenger. 
\item Visitor User activates the account either
\begin{itemize}
\item by opening the link received in the confirmation e-mail
\item or by inserting the confirmation code received by SMS.
\end{itemize}
\item The system will save all the information on the DB.
\end{enumerate}
\end{minipage}} 
{
Visitor completes the registration and becomes a Registered Passenger.
Now the Registered Passenger can log on and start using myTaxiService.
} 
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Visitor is already a Registered Passenger.
\item One of the mandatory fields contain invalid data
\item Email or phone number are already used by another Registered Passenger.
\end{enumerate}
\end{minipage}
}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{Registration.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Visitor signs in}
\usecasetable {Visitor, Registered Passenger}{A Visitor wants to sign in} {Visitor is already a Registered Passenger} {\begin{minipage}[b]{11cm}
\begin{enumerate}
\item myTaxiService shows the login page
\item Visitor inserts his/her credentials chosen during registration and presses the ``Login'' button.
\item myTaxiService validates the data. 
\end{enumerate}
\end{minipage}
}{Visitor is promoted to Registered Passenger, now he/she can use all the myTaxiService functions.}{Incorrect e-mail, phone number or password inserted. myTaxiService will notify the visitor about this.}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{passenger_login.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Registered Passenger makes a request}
\usecasetable{Registered Passenger}{\nameref{goal2}}{Registered Passenger is authenticated into the  myTaxiService.}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Passenger choose to request a taxi.
\item Passenger's location is determined by the GPS.
\item Passenger specifies the amount of people involved in the request.
\item Passenger presses the button ``Confirm''
\end{enumerate}
\end{minipage}
}
{The Registered Passenger has successfully sent the request.}
{

\begin{minipage}[b]{11cm}
\begin{enumerate}
\item The application fails to locate the passenger.
\item The location detected is not served by the service.
\item The amount of people exceeds the maximum allowed.
In both cases the system notifies the Passenger with a message on the screen.
\end{enumerate}
\end{minipage}
}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{make_request.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Passenger makes a reservation}
\usecasetable {Registered Passenger}{\nameref{goal3}}{Registered Passenger is authenticated into the  myTaxiService.} 
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Passenger clicks on the button ``Reserve a taxi".
\item Passenger specifies all the mandatory fields.
\item Passenger presses the button ``Confirm''.
\end{enumerate}
\end{minipage}
}
{The Registered Passenger has successfully submitted the reservation. The information are stored in a DB, the system schedules a timer that will timeout 10 minutes before the time and date specified by the Passenger.}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item The meeting point is not found on the map
\item The meeting point is not server by the system.
\item The time and date specified is too close to the present time.
\end{enumerate}
\end{minipage}
}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{make_reservation.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Request forwarded to a taxi}
\usecasetable{Taxi driver, Registered Passenger}{\nameref{goal2}, \nameref{goal3}}{The passenger has just sent a request, or the time remaining to a scheduled reservation is equal to ten minutes}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item The system looks for the queue in the zone of the meeting point and selects the first available taxi. 
\item The system sends a notification to the driver of the selected taxi, the driver has 30 seconds to answer:
\begin{itemize}
\item The taxi driver presses the button ``Confirm'', a notification to the Passenger is sent indicating the ID of the taxi and the ETA to the meeting point, now the Passenger can:
\begin{itemize}
\item Accepts the request by pressing the button ``Confirm'', the taxi is removed from the queue and the system informs the user about the succeed of the operation.
\item Cancel the request by pressing the button ``Decline'', at this point the Event flow jumps to 1.\end{itemize}
\item The taxi driver presses the button ``Decline'', the matching taxi is moved to the bottom of the queue, the Event flow jumps to 1.
\end{itemize}
\end{enumerate}
\end{minipage}
}
{The request is fulfilled by the selected driver and he/she begins to move to the meeting location.}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item There are no available taxis in the zone of the meeting point nor in the adjacent zones.
\item The Passenger cancels the request for three times (see [D2] of \hyperref[goal2]{{[}G2{]}}).
\end{enumerate}
\end{minipage}
}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{request_forward.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Driver communicates availability}
\usecasetable{Taxi driver}{\nameref{goal5}}{The driver is logged into the system}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Taxi driver presses the button ``Available''.
\item The system determine the position of the driver and insert his/her taxi to the appropriate queue.
\item The system sends confirmation to the waiting driver.
\end{enumerate}
\end{minipage}
}
{The driver is now available and his/her taxi is in a queue.}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item The driver is already available.
\item The position of the driver is invalid.
\item The position of the driver is outside the area served by the service.
\end{enumerate}
\end{minipage}
}
\begin{figure}[H]
\centering
\includegraphics[scale=.3]{driver_availability.png}
\caption{Sequence diagram for the use case}
\end{figure}
\break
\paragraph{Driver login}
\usecasetable{Taxi driver}{\nameref{goal5}}{The driver is registered in the system}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item The driver launches the application on the smartphone
\item The driver insert his/her credentials.
\end{enumerate}
\end{minipage}
}
{The driver is now capable of accepting incoming requests and has access to the dedicated features}
{
\begin{minipage}[b]{11cm}
\begin{enumerate}
\item Invalid credentials
\end{enumerate}
\end{minipage}
}
\break
\begin{landscape}
\subsubsection{Class Diagram}
\begin{figure}[H]
\includegraphics[scale=.5]{class_diagram.png}
\end{figure}
\end{landscape}
\break
\subsubsection{State chart diagram}
\begin{figure}[H]
\centering
\includegraphics[scale=.7]{state_chart_driver.png}
\caption{State chart diagram for driver}
\end{figure}
\break
\subsection{Non Functional Requirements}
\subsubsection{Performance Requirements}
The overall performance of the system must be acceptable so that a good level of usability is achieved.
The response time with the respect to the system must be near to zero. The response time of mobile application is tricky to evaluate since there are lots of different devices with different power processing, but  in general the application should perform well on the majority of the devices available in today market. Some very low level or entry level devices might show some delays rendering the application on the screen. Nevertheless the major bound is customers and drivers internet connection. 
\subsubsection{Design Constraints}
\subsubsection{Software System Attributes}
\paragraph{Availability} The overall system must be available anytime according to \hyperref[a10]{[A10]}. Dedicated servers must be used to reach this goal. In order to achieve even more reliability, some fault tolerant mechanisms must be implemented, also to reduce risks of high loads that could eventually result in denials of service. Servers must be replicated to work in parallel by multiple instances of the same application. 
\paragraph{Maintainability} The application provides specific APIs that will be documented, as the whole application.
\paragraph{Portability} The mobile application will be developed on all the major mobile OSes available in the market, also web application is portable since nowadays the majority of widespread OSes have a browser. The web application will be designed with a responsive layout to be also accessible from mobile devices as well. The business logic in the servers will be implemented using the Java language.
\subsubsection{Security}
Information inserted by both taxi drivers and passengers are protected by HTTPS protocol during transfers. There is a recovery in case of lost password, the system sends a link that resets it, giving the user a temporary one.
\newline
Servers contain data about taxi drivers and passengers personal details, besides reservations. To protect this information, the administrator has to encrypt information. Furthermore servers have to be protected from physical damages and thefts.
\end{document}
